"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const base_command_1 = (0, tslib_1.__importDefault)(require("../../../base-command"));
const event_listener_1 = require("../../../steps/stubs/backend/event-listener");
const event_1 = require("../../../steps/extenders/event");
const gen_ext_scaffolder_1 = require("../../../steps/gen-ext-scaffolder");
class EventListener extends base_command_1.default {
    steps(stepManager) {
        return stepManager.atomicGroup((stepManager) => {
            stepManager
                .namedStep('listener', new event_listener_1.GenerateEventListenerStub(this.STUB_PATH, (0, gen_ext_scaffolder_1.genExtScaffolder)()))
                .step(new event_1.GenerateEventListenerExtender(), { optional: true, confirmationMessage: 'Generate corresponding extender?', default: true }, [
                {
                    sourceStep: 'listener',
                    exposedName: 'class',
                    consumedName: 'listenerClass',
                },
                {
                    sourceStep: 'listener',
                    exposedName: 'eventClass',
                },
            ]);
        });
    }
}
exports.default = EventListener;
EventListener.description = 'Generate an event listener class';
EventListener.flags = Object.assign({}, base_command_1.default.flags);
EventListener.args = [...base_command_1.default.args];
