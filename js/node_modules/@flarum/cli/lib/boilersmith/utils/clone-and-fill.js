"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cloneAndFill = void 0;
function cloneAndFill(obj, params) {
    const fill = (val, params) => {
        return val.replace(/\${(.*)}/gm, (...match) => {
            return params[match[1]];
        });
    };
    const recursiveCopyAndFill = (obj, params) => {
        if (typeof obj === 'string')
            return fill(obj, params);
        if (Array.isArray(obj))
            return obj.map((v) => recursiveCopyAndFill(v, params));
        // eslint-disable-next-line no-new-object
        if (obj !== new Object(obj))
            return obj;
        const newObj = {};
        for (const key of Object.keys(obj)) {
            const value = obj[key];
            newObj[key] = recursiveCopyAndFill(value, params);
        }
        return newObj;
    };
    return recursiveCopyAndFill(obj, params);
}
exports.cloneAndFill = cloneAndFill;
